<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3276.25px" preserveAspectRatio="none" style="width:2520px;height:3276px;" version="1.1" viewBox="0 0 2520 3276" width="2520px" zoomAndPan="magnify"><defs><filter height="300%" id="f1b9k6n0f68dmz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.5"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.0" dy="5.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="2922.3633" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="438.125" y="174.4629"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="2871.9238" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="783.125" y="224.9023"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="67.7734" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1014.375" y="305.1758"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="531.7676" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1203.125" y="453.2227"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1373.125" y="1146.748"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="92.1289" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1373.125" y="1486.5137"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1373.125" y="2750.0684"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1561.875" y="1663.2715"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="92.1289" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1561.875" y="2003.0371"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1561.875" y="3040.5762"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1761.25" y="2825.5078"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1937.5" y="2179.7949"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1937.5" y="2965.1367"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="75.4395" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="2086.875" y="2286.9238"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="75.4395" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="2086.875" y="2636.6895"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="2289.375" y="2324.8633"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="2289.375" y="2674.6289"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="2030.1465" style="stroke:#000000;stroke-width:2.5;" width="2371.875" x="12.5" y="1057.9297"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="101.3184" style="stroke:#000000;stroke-width:2.5;" width="561.25" x="348.75" y="1202.998"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="60.8789" style="stroke:#000000;stroke-width:2.5;" width="536.25" x="361.25" y="1234.6875"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="153.0078" style="stroke:#000000;stroke-width:2.5;" width="783.125" x="681.25" y="1435.6348"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="101.3184" style="stroke:#000000;stroke-width:2.5;" width="561.25" x="348.75" y="1719.5215"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="60.8789" style="stroke:#000000;stroke-width:2.5;" width="536.25" x="361.25" y="1751.2109"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="153.0078" style="stroke:#000000;stroke-width:2.5;" width="1010.625" x="681.25" y="1952.1582"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="230.9473" style="stroke:#000000;stroke-width:2.5;" width="1678.125" x="668.75" y="2236.0449"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="77.1289" style="stroke:#000000;stroke-width:2.5;" width="367.5" x="681.25" y="2381.1133"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="406.0156" style="stroke:#000000;stroke-width:2.5;" width="2023.125" x="348.75" y="2484.4922"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="365.5762" style="stroke:#000000;stroke-width:2.5;" width="1998.125" x="361.25" y="2516.1816"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="287.1973" style="stroke:#000000;stroke-width:2.5;" width="1665.625" x="681.25" y="2585.8105"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="103.75" x2="103.75" y1="134.0234" y2="3147.2656"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="443.75" x2="443.75" y1="134.0234" y2="3147.2656"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="788.75" x2="788.75" y1="237.0996" y2="3147.2656"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1020.625" x2="1020.625" y1="317.373" y2="3147.2656"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1209.375" x2="1209.375" y1="397.6465" y2="3147.2656"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1379.375" x2="1379.375" y1="532.7344" y2="3147.2656"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1568.125" x2="1568.125" y1="722.6367" y2="3147.2656"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1766.875" x2="1766.875" y1="912.5391" y2="3147.2656"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1943.125" x2="1943.125" y1="134.0234" y2="3147.2656"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="2093.125" x2="2093.125" y1="134.0234" y2="3147.2656"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="2295.625" x2="2295.625" y1="134.0234" y2="3147.2656"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="2426.875" x2="2426.875" y1="134.0234" y2="3147.2656"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="151.25" x="25" y="108.1665">Gestor de Serviços</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="102.5" x="49.375" y="130.1782">de Help desk</text><ellipse cx="104.375" cy="18.75" fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" rx="10" ry="10" style="stroke:#A80036;stroke-width:2.5;"/><path d="M104.375,28.75 L104.375,62.5 M88.125,38.75 L120.625,38.75 M104.375,62.5 L88.125,81.25 M104.375,62.5 L120.625,81.25 " fill="none" filter="url(#f1b9k6n0f68dmz)" style="stroke:#A80036;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="151.25" x="25" y="3164.1821">Gestor de Serviços</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="102.5" x="49.375" y="3186.1938">de Help desk</text><ellipse cx="104.375" cy="3202.5391" fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" rx="10" ry="10" style="stroke:#A80036;stroke-width:2.5;"/><path d="M104.375,3212.5391 L104.375,3246.2891 M88.125,3222.5391 L120.625,3222.5391 M104.375,3246.2891 L88.125,3265.0391 M104.375,3246.2891 L120.625,3265.0391 " fill="none" filter="url(#f1b9k6n0f68dmz)" style="stroke:#A80036;stroke-width:2.5;"/><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="136.25" x="373.75" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="118.75" x="382.5" y="93.1665">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="106.25" x="388.75" y="115.1782">AplicarNivelUI</text><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="136.25" x="373.75" y="3146.0156"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="118.75" x="382.5" y="3172.9321">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="106.25" x="388.75" y="3194.9438">AplicarNivelUI</text><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="186.25" x="693.75" y="3146.0156"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="105" x="734.375" y="3172.9321">«application»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="168.75" x="702.5" y="3194.9438">AplicarNivelController</text><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="170" x="933.125" y="3146.0156"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="111.25" x="962.5" y="3172.9321">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="152.5" x="941.875" y="3194.9438">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="162.5" x="1125.625" y="3146.0156"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="73.75" x="1170" y="3172.9321">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="145" x="1134.375" y="3194.9438">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="98.75" x="1326.25" y="3164.1821">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="122.5" x="1314.375" y="3186.1938">NivelRepository</text><path d="M1356.875,3202.5391 C1356.875,3190.0391 1379.375,3190.0391 1379.375,3190.0391 C1379.375,3190.0391 1401.875,3190.0391 1401.875,3202.5391 L1401.875,3235.0391 C1401.875,3247.5391 1379.375,3247.5391 1379.375,3247.5391 C1379.375,3247.5391 1356.875,3247.5391 1356.875,3235.0391 L1356.875,3202.5391 " fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" style="stroke:#000000;stroke-width:1.875;"/><path d="M1356.875,3202.5391 C1356.875,3215.0391 1379.375,3215.0391 1379.375,3215.0391 C1379.375,3215.0391 1401.875,3215.0391 1401.875,3202.5391 " fill="none" style="stroke:#000000;stroke-width:1.875;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="98.75" x="1515" y="3164.1821">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="215" x="1456.875" y="3186.1938">CatalogoServicoRepository</text><path d="M1545.625,3202.5391 C1545.625,3190.0391 1568.125,3190.0391 1568.125,3190.0391 C1568.125,3190.0391 1590.625,3190.0391 1590.625,3202.5391 L1590.625,3235.0391 C1590.625,3247.5391 1568.125,3247.5391 1568.125,3247.5391 C1568.125,3247.5391 1545.625,3247.5391 1545.625,3235.0391 L1545.625,3202.5391 " fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" style="stroke:#000000;stroke-width:1.875;"/><path d="M1545.625,3202.5391 C1545.625,3215.0391 1568.125,3215.0391 1568.125,3215.0391 C1568.125,3215.0391 1590.625,3215.0391 1590.625,3202.5391 " fill="none" style="stroke:#000000;stroke-width:1.875;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="98.75" x="1714.375" y="3164.1821">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="143.75" x="1691.875" y="3186.1938">ServicoRepository</text><path d="M1745,3202.5391 C1745,3190.0391 1767.5,3190.0391 1767.5,3190.0391 C1767.5,3190.0391 1790,3190.0391 1790,3202.5391 L1790,3235.0391 C1790,3247.5391 1767.5,3247.5391 1767.5,3247.5391 C1767.5,3247.5391 1745,3247.5391 1745,3235.0391 L1745,3202.5391 " fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" style="stroke:#000000;stroke-width:1.875;"/><path d="M1745,3202.5391 C1745,3215.0391 1767.5,3215.0391 1767.5,3215.0391 C1767.5,3215.0391 1790,3215.0391 1790,3202.5391 " fill="none" style="stroke:#000000;stroke-width:1.875;"/><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="171.25" x="1855.625" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="153.75" x="1864.375" y="93.1665">«catalogosServico»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="130" x="1876.25" y="115.1782">CatalogoServico</text><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="171.25" x="1855.625" y="3146.0156"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="153.75" x="1864.375" y="3172.9321">«catalogosServico»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="130" x="1876.25" y="3194.9438">CatalogoServico</text><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="92.5" x="2044.375" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="75" x="2053.125" y="93.1665">«servico»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="58.75" x="2061.25" y="115.1782">Servico</text><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="92.5" x="2044.375" y="3146.0156"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="75" x="2053.125" y="3172.9321">«servico»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="58.75" x="2061.25" y="3194.9438">Servico</text><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="72.5" x="2256.875" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="55" x="2265.625" y="93.1665">«nivel»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="37.5" x="2274.375" y="115.1782">Nivel</text><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="72.5" x="2256.875" y="3146.0156"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="55" x="2265.625" y="3172.9321">«nivel»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="37.5" x="2274.375" y="3194.9438">Nivel</text><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="83.5352" style="stroke:#A80036;stroke-width:1.875;" width="156.25" x="2346.875" y="44.2383"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="138.75" x="2355.625" y="71.1548">«objetivoDistinto»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="23.75" x="2413.125" y="93.1665">obj</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="128.75" x="2360.625" y="115.1782">:ObjetivoDistinto</text><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="83.5352" style="stroke:#A80036;stroke-width:1.875;" width="156.25" x="2346.875" y="3146.0156"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="138.75" x="2355.625" y="3172.9321">«objetivoDistinto»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="23.75" x="2413.125" y="3194.9438">obj</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="128.75" x="2360.625" y="3216.9556">:ObjetivoDistinto</text><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="2922.3633" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="438.125" y="174.4629"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="2871.9238" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="783.125" y="224.9023"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="67.7734" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1014.375" y="305.1758"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="531.7676" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1203.125" y="453.2227"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1373.125" y="1146.748"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="92.1289" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1373.125" y="1486.5137"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1373.125" y="2750.0684"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1561.875" y="1663.2715"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="92.1289" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1561.875" y="2003.0371"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1561.875" y="3040.5762"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1761.25" y="2825.5078"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1937.5" y="2179.7949"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1937.5" y="2965.1367"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="75.4395" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="2086.875" y="2286.9238"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="75.4395" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="2086.875" y="2636.6895"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="2289.375" y="2324.8633"/><rect fill="#FFFFFF" filter="url(#f1b9k6n0f68dmz)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="2289.375" y="2674.6289"/><polygon fill="#A80036" points="423.125,169.4629,435.625,174.4629,423.125,179.4629,428.125,174.4629" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="104.375" x2="430.625" y1="174.4629" y2="174.4629"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="113.125" y="168.3923">1</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="296.25" x="126.875" y="168.3923">Atribuir nível de criticidade a um catalogo</text><polygon fill="#A80036" points="678.75,207.4023,691.25,212.4023,678.75,217.4023,683.75,212.4023" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="450.625" x2="686.25" y1="212.4023" y2="212.4023"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="459.375" y="206.3318">2</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="55" x="473.125" y="206.3318">create()</text><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="186.25" x="693.75" y="184.4629"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="105" x="734.375" y="211.3794">«application»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="168.75" x="702.5" y="233.3911">AplicarNivelController</text><polygon fill="#A80036" points="918.125,287.6758,930.625,292.6758,918.125,297.6758,923.125,292.6758" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="795.625" x2="925.625" y1="292.6758" y2="292.6758"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="804.375" y="286.6052">3</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="93.75" x="818.125" y="286.6052">repositories()</text><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="170" x="933.125" y="264.7363"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="111.25" x="962.5" y="291.6528">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="152.5" x="941.875" y="313.6646">PersistenceContext</text><polygon fill="#A80036" points="1110.625,367.9492,1123.125,372.9492,1110.625,377.9492,1115.625,372.9492" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1020.625" x2="1118.125" y1="372.9492" y2="372.9492"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1029.375" y="366.8787">4</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="55" x="1043.125" y="366.8787">create()</text><rect fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="162.5" x="1125.625" y="345.0098"/><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="73.75" x="1170" y="371.9263">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="145" x="1134.375" y="393.938">RepositoryFactory</text><polygon fill="#A80036" points="1188.125,448.2227,1200.625,453.2227,1188.125,458.2227,1193.125,453.2227" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="1195.625" y1="453.2227" y2="453.2227"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="804.375" y="447.1521">5</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="126.25" x="818.125" y="447.1521">niveisCriticidade()</text><polygon fill="#A80036" points="1299.375,486.1621,1311.875,491.1621,1299.375,496.1621,1304.375,491.1621" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1215.625" x2="1306.875" y1="491.1621" y2="491.1621"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1224.375" y="485.0916">6</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="55" x="1238.125" y="485.0916">create()</text><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="98.75" x="1326.25" y="538.8892">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="122.5" x="1314.375" y="560.9009">NivelRepository</text><path d="M1356.875,475.7227 C1356.875,463.2227 1379.375,463.2227 1379.375,463.2227 C1379.375,463.2227 1401.875,463.2227 1401.875,475.7227 L1401.875,508.2227 C1401.875,520.7227 1379.375,520.7227 1379.375,520.7227 C1379.375,520.7227 1356.875,520.7227 1356.875,508.2227 L1356.875,475.7227 " fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" style="stroke:#000000;stroke-width:1.875;"/><path d="M1356.875,475.7227 C1356.875,488.2227 1379.375,488.2227 1379.375,488.2227 C1379.375,488.2227 1401.875,488.2227 1401.875,475.7227 " fill="none" style="stroke:#000000;stroke-width:1.875;"/><polygon fill="#A80036" points="809.375,600.1855,796.875,605.1855,809.375,610.1855,804.375,605.1855" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="801.875" x2="1378.125" y1="605.1855" y2="605.1855"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="816.875" y="599.115">7</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="108.75" x="830.625" y="599.115">nivelRepository</text><polygon fill="#A80036" points="1188.125,638.125,1200.625,643.125,1188.125,648.125,1193.125,643.125" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="1195.625" y1="643.125" y2="643.125"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="804.375" y="637.0544">8</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="132.5" x="818.125" y="637.0544">catalogosServico()</text><polygon fill="#A80036" points="1441.875,676.0645,1454.375,681.0645,1441.875,686.0645,1446.875,681.0645" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1215.625" x2="1449.375" y1="681.0645" y2="681.0645"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1224.375" y="674.9939">9</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="55" x="1238.125" y="674.9939">create()</text><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="98.75" x="1515" y="728.7915">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="215" x="1456.875" y="750.8032">CatalogoServicoRepository</text><path d="M1545.625,665.625 C1545.625,653.125 1568.125,653.125 1568.125,653.125 C1568.125,653.125 1590.625,653.125 1590.625,665.625 L1590.625,698.125 C1590.625,710.625 1568.125,710.625 1568.125,710.625 C1568.125,710.625 1545.625,710.625 1545.625,698.125 L1545.625,665.625 " fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" style="stroke:#000000;stroke-width:1.875;"/><path d="M1545.625,665.625 C1545.625,678.125 1568.125,678.125 1568.125,678.125 C1568.125,678.125 1590.625,678.125 1590.625,665.625 " fill="none" style="stroke:#000000;stroke-width:1.875;"/><polygon fill="#A80036" points="809.375,790.0879,796.875,795.0879,809.375,800.0879,804.375,795.0879" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="801.875" x2="1566.875" y1="795.0879" y2="795.0879"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="816.875" y="789.0173">10</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="191.25" x="839.375" y="789.0173">catalogoServicoRepository</text><polygon fill="#A80036" points="1188.125,828.0273,1200.625,833.0273,1188.125,838.0273,1193.125,833.0273" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="1195.625" y1="833.0273" y2="833.0273"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="804.375" y="826.9568">11</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="68.75" x="826.875" y="826.9568">servicos()</text><polygon fill="#A80036" points="1676.875,865.9668,1689.375,870.9668,1676.875,875.9668,1681.875,870.9668" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1215.625" x2="1684.375" y1="870.9668" y2="870.9668"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1224.375" y="864.8962">12</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="55" x="1246.875" y="864.8962">create()</text><text fill="#000000" font-family="sans-serif" font-size="17.5" font-style="italic" lengthAdjust="spacing" textLength="98.75" x="1714.375" y="918.6938">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="143.75" x="1691.875" y="940.7056">ServicoRepository</text><path d="M1745,855.5273 C1745,843.0273 1767.5,843.0273 1767.5,843.0273 C1767.5,843.0273 1790,843.0273 1790,855.5273 L1790,888.0273 C1790,900.5273 1767.5,900.5273 1767.5,900.5273 C1767.5,900.5273 1745,900.5273 1745,888.0273 L1745,855.5273 " fill="#FEFECE" filter="url(#f1b9k6n0f68dmz)" style="stroke:#000000;stroke-width:1.875;"/><path d="M1745,855.5273 C1745,868.0273 1767.5,868.0273 1767.5,868.0273 C1767.5,868.0273 1790,868.0273 1790,855.5273 " fill="none" style="stroke:#000000;stroke-width:1.875;"/><polygon fill="#A80036" points="809.375,979.9902,796.875,984.9902,809.375,989.9902,804.375,984.9902" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="801.875" x2="1766.25" y1="984.9902" y2="984.9902"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="816.875" y="978.9197">13</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="127.5" x="839.375" y="978.9197">servicoRepository</text><line style="stroke:#A80036;stroke-width:1.25;" x1="450.625" x2="503.125" y1="1022.9297" y2="1022.9297"/><line style="stroke:#A80036;stroke-width:1.25;" x1="503.125" x2="503.125" y1="1022.9297" y2="1039.1797"/><line style="stroke:#A80036;stroke-width:1.25;" x1="451.875" x2="503.125" y1="1039.1797" y2="1039.1797"/><polygon fill="#A80036" points="464.375,1034.1797,451.875,1039.1797,464.375,1044.1797,459.375,1039.1797" style="stroke:#A80036;stroke-width:1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="459.375" y="1016.8591">14</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="67.5" x="481.875" y="1016.8591">doShow()</text><path d="M12.5,1057.9297 L221.25,1057.9297 L221.25,1067.9297 L208.75,1080.4297 L12.5,1080.4297 L12.5,1057.9297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="2030.1465" style="stroke:#000000;stroke-width:2.5;" width="2371.875" x="12.5" y="1057.9297"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="152.5" x="31.25" y="1076.0486">while (maisAplicar)</text><polygon fill="#A80036" points="768.125,1103.8086,780.625,1108.8086,768.125,1113.8086,773.125,1108.8086" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="450.625" x2="775.625" y1="1108.8086" y2="1108.8086"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="459.375" y="1102.738">15</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="90" x="481.875" y="1102.738">showNiveis()</text><polygon fill="#A80036" points="1358.125,1141.748,1370.625,1146.748,1358.125,1151.748,1363.125,1146.748" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="1365.625" y1="1146.748" y2="1146.748"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="804.375" y="1140.6775">16</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="113.75" x="826.875" y="1140.6775">niveis = findAll()</text><path d="M348.75,1202.998 L627.5,1202.998 L627.5,1212.998 L615,1225.498 L348.75,1225.498 L348.75,1202.998 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="101.3184" style="stroke:#000000;stroke-width:2.5;" width="561.25" x="348.75" y="1202.998"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="222.5" x="367.5" y="1221.1169">if (niveis.iterator().hasNext())</text><path d="M361.25,1234.6875 L637.5,1234.6875 L637.5,1244.6875 L625,1257.1875 L361.25,1257.1875 L361.25,1234.6875 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="60.8789" style="stroke:#000000;stroke-width:2.5;" width="536.25" x="361.25" y="1234.6875"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="220" x="380" y="1252.8064">foreach (Nivel nivel : niveis)</text><polygon fill="#A80036" points="464.375,1280.5664,451.875,1285.5664,464.375,1290.5664,459.375,1285.5664" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="456.875" x2="781.875" y1="1285.5664" y2="1285.5664"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="471.875" y="1279.4958">17</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="31.25" x="494.375" y="1279.4958">nivel</text><polygon fill="#A80036" points="118.125,1336.0059,105.625,1341.0059,118.125,1346.0059,113.125,1341.0059" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="110.625" x2="436.875" y1="1341.0059" y2="1341.0059"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="125.625" y="1334.9353">18</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="178.75" x="148.125" y="1334.9353">Insira a etiqueta do nível.</text><polygon fill="#A80036" points="423.125,1373.9453,435.625,1378.9453,423.125,1383.9453,428.125,1378.9453" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="104.375" x2="430.625" y1="1378.9453" y2="1378.9453"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="113.125" y="1372.8748">19</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="125" x="135.625" y="1372.8748">Insere a etiqueta.</text><polygon fill="#A80036" points="768.125,1411.8848,780.625,1416.8848,768.125,1421.8848,773.125,1416.8848" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="450.625" x2="775.625" y1="1416.8848" y2="1416.8848"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="459.375" y="1410.8142">20</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="162.5" x="481.875" y="1410.8142">associarNivel(etiqueta)</text><path d="M681.25,1435.6348 L1065,1435.6348 L1065,1445.6348 L1052.5,1458.1348 L681.25,1458.1348 L681.25,1435.6348 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="153.0078" style="stroke:#000000;stroke-width:2.5;" width="783.125" x="681.25" y="1435.6348"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="327.5" x="700" y="1453.7537">if (nivelRepo.containsOfIdentity(etiqueta))</text><polygon fill="#A80036" points="1358.125,1481.5137,1370.625,1486.5137,1358.125,1491.5137,1363.125,1486.5137" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="1365.625" y1="1486.5137" y2="1486.5137"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="804.375" y="1480.4431">21</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="212.5" x="826.875" y="1480.4431">thisNivel = ofIdentity(etiqueta)</text><line style="stroke:#A80036;stroke-width:1.25;" x1="1385.625" x2="1438.125" y1="1524.4531" y2="1524.4531"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1438.125" x2="1438.125" y1="1524.4531" y2="1540.7031"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1386.875" x2="1438.125" y1="1540.7031" y2="1540.7031"/><polygon fill="#A80036" points="1399.375,1535.7031,1386.875,1540.7031,1399.375,1545.7031,1394.375,1540.7031" style="stroke:#A80036;stroke-width:1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1394.375" y="1518.3826">22</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="32.5" x="1416.875" y="1518.3826">get()</text><polygon fill="#A80036" points="809.375,1573.6426,796.875,1578.6426,809.375,1583.6426,804.375,1578.6426" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="801.875" x2="1378.125" y1="1578.6426" y2="1578.6426"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="816.875" y="1572.572">23</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="60" x="839.375" y="1572.572">thisNivel</text><polygon fill="#A80036" points="768.125,1620.332,780.625,1625.332,768.125,1630.332,773.125,1625.332" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="450.625" x2="775.625" y1="1625.332" y2="1625.332"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="459.375" y="1619.2615">24</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="120" x="481.875" y="1619.2615">showCatalogos()</text><polygon fill="#A80036" points="1546.875,1658.2715,1559.375,1663.2715,1546.875,1668.2715,1551.875,1663.2715" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="1554.375" y1="1663.2715" y2="1663.2715"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="804.375" y="1657.2009">25</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="143.75" x="826.875" y="1657.2009">catalogos = findAll()</text><path d="M348.75,1719.5215 L657.5,1719.5215 L657.5,1729.5215 L645,1742.0215 L348.75,1742.0215 L348.75,1719.5215 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="101.3184" style="stroke:#000000;stroke-width:2.5;" width="561.25" x="348.75" y="1719.5215"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="252.5" x="367.5" y="1737.6404">if (catalogos.iterator().hasNext())</text><path d="M361.25,1751.2109 L788.75,1751.2109 L788.75,1761.2109 L776.25,1773.7109 L361.25,1773.7109 L361.25,1751.2109 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="60.8789" style="stroke:#000000;stroke-width:2.5;" width="536.25" x="361.25" y="1751.2109"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="371.25" x="380" y="1769.3298">foreach (CatalogoServico catalogo : catalogos)</text><polygon fill="#A80036" points="464.375,1797.0898,451.875,1802.0898,464.375,1807.0898,459.375,1802.0898" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="456.875" x2="781.875" y1="1802.0898" y2="1802.0898"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="471.875" y="1796.0193">26</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="61.25" x="494.375" y="1796.0193">catalogo</text><polygon fill="#A80036" points="118.125,1852.5293,105.625,1857.5293,118.125,1862.5293,113.125,1857.5293" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="110.625" x2="436.875" y1="1857.5293" y2="1857.5293"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="125.625" y="1851.4587">27</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="148.75" x="148.125" y="1851.4587">Insira o identificador.</text><polygon fill="#A80036" points="423.125,1890.4688,435.625,1895.4688,423.125,1900.4688,428.125,1895.4688" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="104.375" x2="430.625" y1="1895.4688" y2="1895.4688"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="113.125" y="1889.3982">28</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="153.75" x="135.625" y="1889.3982">Insere o identificador.</text><polygon fill="#A80036" points="768.125,1928.4082,780.625,1933.4082,768.125,1938.4082,773.125,1933.4082" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="450.625" x2="775.625" y1="1933.4082" y2="1933.4082"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="459.375" y="1927.3376">29</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="221.25" x="481.875" y="1927.3376">associarCatalogo(identificador)</text><path d="M681.25,1952.1582 L1085,1952.1582 L1085,1962.1582 L1072.5,1974.6582 L681.25,1974.6582 L681.25,1952.1582 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="153.0078" style="stroke:#000000;stroke-width:2.5;" width="1010.625" x="681.25" y="1952.1582"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="347.5" x="700" y="1970.2771">if (catRepo.containsOfIdentity(identificador))</text><polygon fill="#A80036" points="1546.875,1998.0371,1559.375,2003.0371,1546.875,2008.0371,1551.875,2003.0371" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="1554.375" y1="2003.0371" y2="2003.0371"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="804.375" y="1996.9666">30</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="271.25" x="826.875" y="1996.9666">thisCatalogo = ofIdentity(identificador)</text><line style="stroke:#A80036;stroke-width:1.25;" x1="1574.375" x2="1626.875" y1="2040.9766" y2="2040.9766"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1626.875" x2="1626.875" y1="2040.9766" y2="2057.2266"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1575.625" x2="1626.875" y1="2057.2266" y2="2057.2266"/><polygon fill="#A80036" points="1588.125,2052.2266,1575.625,2057.2266,1588.125,2062.2266,1583.125,2057.2266" style="stroke:#A80036;stroke-width:1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1583.125" y="2034.906">31</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="32.5" x="1605.625" y="2034.906">get()</text><polygon fill="#A80036" points="809.375,2090.166,796.875,2095.166,809.375,2100.166,804.375,2095.166" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="801.875" x2="1566.875" y1="2095.166" y2="2095.166"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="816.875" y="2089.0955">32</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="90" x="839.375" y="2089.0955">thisCatalogo</text><polygon fill="#A80036" points="768.125,2136.8555,780.625,2141.8555,768.125,2146.8555,773.125,2141.8555" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="450.625" x2="775.625" y1="2141.8555" y2="2141.8555"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="459.375" y="2135.7849">33</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="280" x="481.875" y="2135.7849">boolean = confirmarObjetivosServicos()</text><polygon fill="#A80036" points="1922.5,2174.7949,1935,2179.7949,1922.5,2184.7949,1927.5,2179.7949" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="1930" y1="2179.7949" y2="2179.7949"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="804.375" y="2173.7244">34</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="160" x="826.875" y="2173.7244">servicoList = getServ()</text><path d="M668.75,2236.0449 L1020,2236.0449 L1020,2246.0449 L1007.5,2258.5449 L668.75,2258.5449 L668.75,2236.0449 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="230.9473" style="stroke:#000000;stroke-width:2.5;" width="1678.125" x="668.75" y="2236.0449"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="295" x="687.5" y="2254.1638">foreach (Servico servico : servicoList)</text><polygon fill="#A80036" points="2071.875,2281.9238,2084.375,2286.9238,2071.875,2291.9238,2076.875,2286.9238" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="2079.375" y1="2286.9238" y2="2286.9238"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="804.375" y="2280.8533">35</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="116.25" x="826.875" y="2280.8533">obj1 = getNivel()</text><polygon fill="#A80036" points="2274.375,2319.8633,2286.875,2324.8633,2274.375,2329.8633,2279.375,2324.8633" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="2099.375" x2="2281.875" y1="2324.8633" y2="2324.8633"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="2108.125" y="2318.7927">36</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="57.5" x="2130.625" y="2318.7927">getObj()</text><path d="M681.25,2381.1133 L1042.5,2381.1133 L1042.5,2391.1133 L1030,2403.6133 L681.25,2403.6133 L681.25,2381.1133 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="77.1289" style="stroke:#000000;stroke-width:2.5;" width="367.5" x="681.25" y="2381.1133"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="305" x="700" y="2399.2322">if (!obj1.equals(thisNivel.getObjetivo()))</text><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="848.125" y1="2431.9922" y2="2431.9922"/><line style="stroke:#A80036;stroke-width:1.25;" x1="848.125" x2="848.125" y1="2431.9922" y2="2448.2422"/><line style="stroke:#A80036;stroke-width:1.25;" x1="796.875" x2="848.125" y1="2448.2422" y2="2448.2422"/><polygon fill="#A80036" points="809.375,2443.2422,796.875,2448.2422,809.375,2453.2422,804.375,2448.2422" style="stroke:#A80036;stroke-width:1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="804.375" y="2425.9216">37</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="175" x="826.875" y="2425.9216">thisListServ.add(servico)</text><path d="M348.75,2484.4922 L500,2484.4922 L500,2494.4922 L487.5,2506.9922 L348.75,2506.9922 L348.75,2484.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="406.0156" style="stroke:#000000;stroke-width:2.5;" width="2023.125" x="348.75" y="2484.4922"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="95" x="367.5" y="2502.6111">if (!boolean)</text><path d="M361.25,2516.1816 L575,2516.1816 L575,2526.1816 L562.5,2538.6816 L361.25,2538.6816 L361.25,2516.1816 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="365.5762" style="stroke:#000000;stroke-width:2.5;" width="1998.125" x="361.25" y="2516.1816"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="157.5" x="380" y="2534.3005">if (decisaoAtualizar)</text><polygon fill="#A80036" points="768.125,2562.0605,780.625,2567.0605,768.125,2572.0605,773.125,2567.0605" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="450.625" x2="775.625" y1="2567.0605" y2="2567.0605"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="459.375" y="2560.99">38</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="132.5" x="481.875" y="2560.99">atualizarServicos()</text><path d="M681.25,2585.8105 L1040,2585.8105 L1040,2595.8105 L1027.5,2608.3105 L681.25,2608.3105 L681.25,2585.8105 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="287.1973" style="stroke:#000000;stroke-width:2.5;" width="1665.625" x="681.25" y="2585.8105"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="302.5" x="700" y="2603.9294">foreach (Servico servico : thisListServ)</text><polygon fill="#A80036" points="2071.875,2631.6895,2084.375,2636.6895,2071.875,2641.6895,2076.875,2636.6895" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="2079.375" y1="2636.6895" y2="2636.6895"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="804.375" y="2630.6189">39</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="66.25" x="826.875" y="2630.6189">getNivel()</text><polygon fill="#A80036" points="2274.375,2669.6289,2286.875,2674.6289,2274.375,2679.6289,2279.375,2674.6289" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="2099.375" x2="2281.875" y1="2674.6289" y2="2674.6289"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="2108.125" y="2668.5583">40</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="143.75" x="2130.625" y="2668.5583">setObjetivo(objetivo)</text><polygon fill="#A80036" points="1358.125,2745.0684,1370.625,2750.0684,1358.125,2755.0684,1363.125,2750.0684" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="1365.625" y1="2750.0684" y2="2750.0684"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="804.375" y="2743.9978">41</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="163.75" x="826.875" y="2743.9978">save(servico.getNivel())</text><polygon fill="#A80036" points="1746.25,2820.5078,1758.75,2825.5078,1746.25,2830.5078,1751.25,2825.5078" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="1753.75" y1="2825.5078" y2="2825.5078"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="804.375" y="2819.4373">42</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="92.5" x="826.875" y="2819.4373">save(servico)</text><polygon fill="#A80036" points="768.125,2922.1973,780.625,2927.1973,768.125,2932.1973,773.125,2927.1973" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="450.625" x2="775.625" y1="2927.1973" y2="2927.1973"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="459.375" y="2921.1267">43</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="36.25" x="481.875" y="2921.1267">add()</text><polygon fill="#A80036" points="1922.5,2960.1367,1935,2965.1367,1922.5,2970.1367,1927.5,2965.1367" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="1930" y1="2965.1367" y2="2965.1367"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="804.375" y="2959.0662">44</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="130" x="826.875" y="2959.0662">addNivel(thisNivel)</text><polygon fill="#A80036" points="1546.875,3035.5762,1559.375,3040.5762,1546.875,3045.5762,1551.875,3040.5762" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="795.625" x2="1554.375" y1="3040.5762" y2="3040.5762"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="804.375" y="3034.5056">45</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="132.5" x="826.875" y="3034.5056">save(thisCatalogo)</text><polygon fill="#A80036" points="118.125,3119.7656,105.625,3124.7656,118.125,3129.7656,113.125,3124.7656" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="110.625" x2="443.125" y1="3124.7656" y2="3124.7656"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="125.625" y="3118.6951">46</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="217.5" x="148.125" y="3118.6951">Informa sucesso da operação.</text><!--MD5=[495732e7504f41ac7664953809d4e781]
@startuml
'https://plantuml.com/sequence-diagram

autonumber

actor "Gestor de Serviços\nde Help desk" as GSH
participant AplicarNivelUI as UI <<presentation>>
participant AplicarNivelController as CTRL <<application>>

participant PersistenceContext as PC <<persistence>>
participant RepositoryFactory as REP <<factory>>

database NivelRepository as NREP <<repository>>
database CatalogoServicoRepository as CATREP <<repository>>
database ServicoRepository as SEREP <<repository>>

participant CatalogoServico as CAT <<catalogosServico>>
participant Servico as SE <<servico>>
participant Nivel as NI <<nivel>>
participant "obj\n:ObjetivoDistinto" as OBJ <<objetivoDistinto>>

    GSH -> UI: Atribuir nível de criticidade a um catalogo
activate UI

    UI - -> CTRL**: create()
activate CTRL

    CTRL - -> PC**:repositories()
activate PC

    PC - -> REP**: create()
deactivate PC

    CTRL -> REP: niveisCriticidade()
activate REP

    REP - -> NREP**: create()
    NREP - -> CTRL: nivelRepository

    CTRL -> REP: catalogosServico()
    REP - -> CATREP**: create()
    CATREP - -> CTRL: catalogoServicoRepository

    CTRL -> REP: servicos()
    REP - -> SEREP**: create()
    SEREP - -> CTRL: servicoRepository
deactivate REP

    UI -> UI: doShow()

group while (maisAplicar)

    UI -> CTRL: showNiveis()
    
    CTRL -> NREP: niveis = findAll()
activate NREP
deactivate NREP
group if (niveis.iterator().hasNext())
group foreach (Nivel nivel : niveis)
    
    CTRL - -> UI: nivel
end
end

    UI - -> GSH: Insira a etiqueta do nível.
    GSH -> UI: Insere a etiqueta.
    UI -> CTRL: associarNivel(etiqueta)

group if (nivelRepo.containsOfIdentity(etiqueta))
    CTRL -> NREP: thisNivel = ofIdentity(etiqueta)

activate NREP
    NREP -> NREP: get()
    NREP - -> CTRL: thisNivel
    
deactivate NREP
end

    UI -> CTRL: showCatalogos()
    CTRL -> CATREP: catalogos = findAll()
    
activate CATREP
deactivate CATREP
group if (catalogos.iterator().hasNext())
group foreach (CatalogoServico catalogo : catalogos)
    CTRL - -> UI: catalogo
end
end    

    UI - -> GSH: Insira o identificador.
    GSH -> UI: Insere o identificador.
    UI -> CTRL: associarCatalogo(identificador)

group if (catRepo.containsOfIdentity(identificador))
    CTRL -> CATREP: thisCatalogo = ofIdentity(identificador)

activate CATREP
    CATREP -> CATREP: get()
    CATREP - -> CTRL: thisCatalogo
    
deactivate CATREP
end

    UI -> CTRL: boolean = confirmarObjetivosServicos()
    CTRL -> CAT: servicoList = getServ()
activate CAT
deactivate CAT

group foreach (Servico servico : servicoList)
    CTRL -> SE: obj1 = getNivel()

activate SE
    SE -> NI: getObj()
activate NI
deactivate NI
deactivate SE

group if (!obj1.equals(thisNivel.getObjetivo()))
    CTRL -> CTRL: thisListServ.add(servico) 
end
end
    
group if (!boolean)
group if (decisaoAtualizar)

    UI -> CTRL: atualizarServicos()
group foreach (Servico servico : thisListServ)
    CTRL -> SE: getNivel()
activate SE
    SE -> NI: setObjetivo(objetivo)
activate NI
deactivate NI
deactivate SE

    CTRL -> NREP: save(servico.getNivel())
activate NREP
deactivate NREP

    CTRL -> SEREP: save(servico)
activate SEREP
deactivate SEREP
    
    
end
end
end

    UI -> CTRL: add()
    CTRL -> CAT: addNivel(thisNivel)
activate CAT
deactivate CAT

    CTRL -> CATREP: save(thisCatalogo)
activate CATREP
deactivate CATREP

end
deactivate CTRL
deactivate UI

UI - -> GSH: Informa sucesso da operação.

@enduml

@startuml

autonumber

actor "Gestor de Serviços\nde Help desk" as GSH
participant AplicarNivelUI as UI <<presentation>>
participant AplicarNivelController as CTRL <<application>>

participant PersistenceContext as PC <<persistence>>
participant RepositoryFactory as REP <<factory>>

database NivelRepository as NREP <<repository>>
database CatalogoServicoRepository as CATREP <<repository>>
database ServicoRepository as SEREP <<repository>>

participant CatalogoServico as CAT <<catalogosServico>>
participant Servico as SE <<servico>>
participant Nivel as NI <<nivel>>
participant "obj\n:ObjetivoDistinto" as OBJ <<objetivoDistinto>>

    GSH -> UI: Atribuir nível de criticidade a um catalogo
activate UI

    UI - -> CTRL**: create()
activate CTRL

    CTRL - -> PC**:repositories()
activate PC

    PC - -> REP**: create()
deactivate PC

    CTRL -> REP: niveisCriticidade()
activate REP

    REP - -> NREP**: create()
    NREP - -> CTRL: nivelRepository

    CTRL -> REP: catalogosServico()
    REP - -> CATREP**: create()
    CATREP - -> CTRL: catalogoServicoRepository

    CTRL -> REP: servicos()
    REP - -> SEREP**: create()
    SEREP - -> CTRL: servicoRepository
deactivate REP

    UI -> UI: doShow()

group while (maisAplicar)

    UI -> CTRL: showNiveis()
    
    CTRL -> NREP: niveis = findAll()
activate NREP
deactivate NREP
group if (niveis.iterator().hasNext())
group foreach (Nivel nivel : niveis)
    
    CTRL - -> UI: nivel
end
end

    UI - -> GSH: Insira a etiqueta do nível.
    GSH -> UI: Insere a etiqueta.
    UI -> CTRL: associarNivel(etiqueta)

group if (nivelRepo.containsOfIdentity(etiqueta))
    CTRL -> NREP: thisNivel = ofIdentity(etiqueta)

activate NREP
    NREP -> NREP: get()
    NREP - -> CTRL: thisNivel
    
deactivate NREP
end

    UI -> CTRL: showCatalogos()
    CTRL -> CATREP: catalogos = findAll()
    
activate CATREP
deactivate CATREP
group if (catalogos.iterator().hasNext())
group foreach (CatalogoServico catalogo : catalogos)
    CTRL - -> UI: catalogo
end
end    

    UI - -> GSH: Insira o identificador.
    GSH -> UI: Insere o identificador.
    UI -> CTRL: associarCatalogo(identificador)

group if (catRepo.containsOfIdentity(identificador))
    CTRL -> CATREP: thisCatalogo = ofIdentity(identificador)

activate CATREP
    CATREP -> CATREP: get()
    CATREP - -> CTRL: thisCatalogo
    
deactivate CATREP
end

    UI -> CTRL: boolean = confirmarObjetivosServicos()
    CTRL -> CAT: servicoList = getServ()
activate CAT
deactivate CAT

group foreach (Servico servico : servicoList)
    CTRL -> SE: obj1 = getNivel()

activate SE
    SE -> NI: getObj()
activate NI
deactivate NI
deactivate SE

group if (!obj1.equals(thisNivel.getObjetivo()))
    CTRL -> CTRL: thisListServ.add(servico) 
end
end
    
group if (!boolean)
group if (decisaoAtualizar)

    UI -> CTRL: atualizarServicos()
group foreach (Servico servico : thisListServ)
    CTRL -> SE: getNivel()
activate SE
    SE -> NI: setObjetivo(objetivo)
activate NI
deactivate NI
deactivate SE

    CTRL -> NREP: save(servico.getNivel())
activate NREP
deactivate NREP

    CTRL -> SEREP: save(servico)
activate SEREP
deactivate SEREP
    
    
end
end
end

    UI -> CTRL: add()
    CTRL -> CAT: addNivel(thisNivel)
activate CAT
deactivate CAT

    CTRL -> CATREP: save(thisCatalogo)
activate CATREP
deactivate CATREP

end
deactivate CTRL
deactivate UI

UI - -> GSH: Informa sucesso da operação.

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>